<div style="padding:0;width:90px;min-height:62px;" class="cmd #history# tooltips cmd-widget" data-type="info" data-subtype="binary" data-cmd_id="#id#" data-cmd_uid="#uid#" data-eqLogic_id="#eqLogic_id#" data-eqLogic_id="#eqLogic_id#" title="#collectDate#">
	<!-- Info Widget
		Basé sur les widget de 	: 
		Mise à jour 			: JAG 20190417 : Mise à jour suite pb d'affichage de l'image
	-->
	<center>
	<div class="row">
		<center>
		<div class="cmdName" id="cmdName#id#" style="font-weight: bold;font-size : 10px; #hideCmdName#;">#name_display#</div>
		<div class="iconCmd#uid#"></div>
		<div style="font-weight: bold;font-size : 10px;">
      		<span class="timeCmd#id# timeCmd label-info" ></span>
      	</div>
		</center>
	</div>
  <script> 
	jeedom.cmd.update['#id#'] = function(_options){
          	 // Options de personnalisation avec valeur par defaut 
               // Paramètrage du logo
                    var srcImglogoON	= ('#logoON#'!='#'+'logoON#') ? "#logoON#" : "Lampe-ON";
				    var srcImglogoON_T 	= ('#logoON_type#'!='#'+'logoON_type#') ? "#logoON_type#" : "png";
                // Valeur pour OFF ou 0
                    var srcImglogoOFF	= ('#logoOFF#'!='#'+'logoOFF#') ? "#logoOFF#" : "Lampe-OFF";
				    var srcImglogoOFF_T = ('#logoOFF_type#'!='#'+'logoOFF_type#') ? "#logoOFF_type#" : "png";
              	// Valeur pourErreur	
			  		var srcImglogoER	= ('#logo_error#'!='#'+'logo_error#') ? "#logo_error#" : "oups";
			  		var srcImglogoER_T 	= ('#logoER_type#'!='#'+'logoER_type#') ? "#logoER_type#" : "png";
               // Paramètre "sizehw" : à déclarer en pixels - 80 maxi
                    var srcImgHeight 	= (is_numeric('#sizeh#')) ? parseFloat('#sizeh#') : 80;
                    var srcImgWidth		= (is_numeric('#sizew#')) ? parseFloat('#sizew#') : 80;
              // Affichage durée changement dernier etat
          			var srcImglogoTime	= ('#logoTime#'!='#'+'logoTime#') 	? "#logoTime#": "";
              // Paramétrage des images
                    var srcImgURL 		= 'plugins/widget/core/template/dashboard/cmd.info.binary.Lampe-Binaire/';
      
		// Update Logo
      				var srcImgState		= srcImgURL + srcImglogoER +'.' +srcImglogoER_T;
              	
        	if (parseInt(_options.display_value) == 1) {
				srcImgState 			= srcImgURL + srcImglogoON +'.' +srcImglogoON_T;
			} else if (parseInt(_options.display_value) == 0) {
				srcImgState 			= srcImgURL + srcImglogoOFF +'.' +srcImglogoOFF_T;
			} else {
				srcImgState 			= srcImgURL + srcImglogoER +'.' +srcImglogoER_T;
			}
        $('.iconCmd#uid#').empty().append('<img src="'+srcImgState+'" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
      
     			$('.cmd[data-cmd_id=#id#]').attr('title','Valeur du '+_options.valueDate+', collectée le '+_options.collectDate);
		        // Derniere durée changement dernier etat
					if (srcImglogoTime == "X") {
  						jeedom.cmd.displayDuration(_options.valueDate, $('.cmd[data-cmd_id=#id#] .timeCmd#id#'));
      				};
    } 
      jeedom.cmd.update['#id#']({display_value:'#state#',valueDate:'#valueDate#',collectDate:'#collectDate#',alertLevel:'#alertLevel#'});
</script>